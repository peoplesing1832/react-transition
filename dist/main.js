!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports["react-flip-transition"]=t(require("react")):e["react-flip-transition"]=t(e.React)}(window,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r=n(11);function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var a=i?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(n,u,a):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}},function(t,n){t.exports=e},function(e,t,n){var r=n(12),o=n(13),i=n(6),u=n(14);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||u()}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r=n(1),o=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.STATUS=void 0;var i=o(n(4)),u=o(n(3)),a=r(n(2)),c=n(8),f=o(n(19));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d,v=function(){};t.STATUS=d,function(e){e.UNMOUNTED="unmounted",e.ENTERED="entered",e.ENTERING="entering",e.LEAVEED="leaveed",e.LEAVEING="leaveing"}(d||(t.STATUS=d={}));var p=function(e){var t=e.name,n=void 0===t?"r":t,r=e.duration,o=void 0===r?200:r,i=e.delay,l=void 0===i?0:i,p=e.animation,y=void 0!==p&&p,m=e.unmount,b=void 0!==m&&m,E=e.onUnmounted,O=void 0===E?v:E,j=e.onEntered,x=void 0===j?v:j,g=e.onEntering,h=void 0===g?v:g,w=e.onLeaveed,P=void 0===w?v:w,_=e.onLeaveing,D=void 0===_?v:_,S=e.leaveDisplayNone,N=void 0!==S&&S,T=e.appear,L=void 0!==T&&T,A=e.children,k=(0,a.useState)(y),R=(0,u.default)(k,2),M=R[0],C=R[1],I=(0,a.useState)((function(){return M?L?d.ENTERED:d.LEAVEED:b?d.UNMOUNTED:d.LEAVEED})),V=(0,u.default)(I,2),U=V[0],G=V[1],F=(0,a.useState)(0),q=(0,u.default)(F,2),B=q[0],W=q[1],$=(0,a.useRef)(!0),H=(0,a.useRef)(A.props.className||""),z=(0,a.useRef)(A.props.style||""),J=(0,a.useRef)((0,f.default)()),K=(0,a.useRef)(new Set([])),Q="undefined"!=typeof window&&window.requestAnimationFrame,X=(0,a.useContext)(c.TransitionsContext),Y=X.prefix,Z=X.animations,ee=X.collection,te=Q?function(e){Q((function(){Q(e)}))}:function(e){setTimeout(e,50)},ne=function(e,t){return setTimeout(t,e)};(0,a.useEffect)((function(){switch(K.current.forEach((function(e){clearTimeout(e)})),K.current.clear(),U){case d.UNMOUNTED:$.current||O(),M&&G(d.LEAVEED);break;case d.LEAVEED:!function(){if(M)te((function(){var e=l,t=ne(e+=B,(function(){G(d.ENTERING)}));K.current.add(t)}));else{P();var t=e._onLeaveed;t&&t(),b&&G(d.UNMOUNTED)}}();break;case d.LEAVEING:!function(){if(D(),M){var e=l,t=ne(e+=B,(function(){G(d.ENTERING)}));K.current.add(t)}else{var n="number"==typeof o?o:o.leave,r=ne(n,(function(){G(d.LEAVEED)}));K.current.add(r)}}();break;case d.ENTERED:!function(){if(x(),M);else{var e=l,t=ne(e+=B,(function(){G(d.LEAVEING)}));K.current.add(t)}}();break;case d.ENTERING:!function(){if(h(),M){var e="number"==typeof o?o:o.enter,t=ne(e,(function(){G(d.ENTERED)}));K.current.add(t)}else{var n=l,r=ne(n+=B,(function(){G(d.LEAVEING)}));K.current.add(r)}}()}$.current=!1}),[U,M]),(0,a.useEffect)((function(){var e=J.current;if(Z[e]){var t=Z[e],n=t.animation,r=t.delay;W(r),C(n)}}),[Z]),(0,a.useEffect)((function(){C(y)}),[y]),(0,a.useEffect)((function(){ee&&ee.push(J.current)}),[]);var re=(0,a.useMemo)((function(){var e=Y||n;switch(U){case d.LEAVEED:return"".concat(e,"-leaveed");case d.LEAVEING:return"".concat(e,"-leaveing");case d.ENTERED:return"".concat(e,"-entered");case d.ENTERING:return"".concat(e,"-entering")}}),[U,Y,n]),oe=(0,a.useMemo)((function(){return U===d.LEAVEED&&N&&!M?{display:"none"}:null}),[N,U,M]);if(U===d.UNMOUNTED)return null;var ie=H.current?"".concat(re," ").concat(H.current):"".concat(re);return a.default.cloneElement(a.default.Children.only(A),{className:ie,style:s(s({},z.current),oe)})};t.default=p},function(e,t,n){var r=n(7);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){"use strict";var r=n(1),o=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TransitionsContext=void 0;var i=o(n(15)),u=o(n(3)),a=r(n(2)),c=a.default.createContext({animations:{},collection:[],prefix:""});t.TransitionsContext=c;var f=function(e){var t=e.masterSwitch,n=void 0!==t&&t,r=e.interval,o=void 0===r?200:r,f=e.prefix,l=void 0===f?"":f,s=e.children,d=(0,a.useState)({}),v=(0,u.default)(d,2),p=v[0],y=v[1],m=(0,a.useRef)([]);return(0,a.useEffect)((function(){var e=(0,i.default)(m.current),t=n?e:e.reverse(),r={},u=0;t.forEach((function(e){r[e]={delay:u*o,animation:n},u+=1})),y(r)}),[n,o]),a.default.createElement(c.Provider,{value:{animations:p,collection:m.current,prefix:l}},s)};t.default=f},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Flip",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Flips",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Observer",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"Transition",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"Transitions",{enumerable:!0,get:function(){return c.default}});var o=r(n(10)),i=r(n(20)),u=r(n(21)),a=r(n(5)),c=r(n(8))},function(e,t,n){"use strict";var r=n(0),o=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(2)),u=r(n(5)),a=function(e){var t=e.children,n=e,r=n._inOutDuration,o=n._animation,a=n._onLeaveed,c=n._name,f=i.cloneElement(i.Children.only(t));return i.createElement(u.default,{name:c,animation:o,onLeaveed:a,duration:r,unmount:!0},f)};t.default=a},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(16),o=n(17),i=n(6),u=n(18);e.exports=function(e){return r(e)||o(e)||i(e)||u()}},function(e,t,n){var r=n(7);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){var e=new Uint32Array(4);window.crypto.getRandomValues(e);var t=-1;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){t++;var r=e[t>>3]>>t%8*4&15;return("x"==n?r:3&r|8).toString(16)}))};t.default=r},function(e,t,n){"use strict";var r=n(1),o=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(3)),u=o(n(4)),a=r(n(2));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var f=function(e){return e.querySelectorAll("[data-flip-id]")},l=function(e){var t=e.inOutDuration,n=void 0===t?200:t,r=e.wrap,o=void 0===r?"div":r,l=e.wrapClass,s=void 0===l?"":l,d=e.name,v=void 0===d?"r":d,p=e.children,y=(0,a.useRef)(),m=(0,a.useRef)(),b=(0,a.useRef)(!0),E=(0,a.useRef)(),O=(0,a.useCallback)((function(){y.current=document.body.offsetHeight}),[]),j=(0,a.useCallback)((function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return r.x=n.x-r.x,r.y=n.y-r.y,r}),[]),x=(0,a.useCallback)((function(e,t){t&&(t=t.trim())&&e.classList.add(t)}),[]),g=(0,a.useCallback)((function(e,t){t&&(t=t.trim())&&(e.classList.remove(t),e.classList.length||e.removeAttribute("class"))}),[]),h=function(e){N((function(t){return e in t&&delete t[e],function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,u.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)}))},w=function(e,t){var n,r=Object.create(null);e&&(null===(n=a.Children.map(e,(function(e){return e})))||void 0===n||n.forEach((function(e){var n=e.key||"";n&&(r[n]=a.isValidElement(e)&&t?t(e):e)})));return r},P=function(e,t){var r=w(e),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var u in e)u in t?i.length&&(o[u]=i,i=[]):i.push(u);var a={};for(var c in t){if(o[c])for(r=0;r<o[c].length;r++){var f=o[c][r];a[f]=n(f)}a[c]=n(c)}for(r=0;r<i.length;r++)a[i[r]]=n(i[r]);return a}(t,r);return Object.keys(o).forEach((function(e){var i,u=o[e];if(a.isValidElement(u)){var c=void 0!==r[e],f=void 0!==t[e],l=c&&!f,s=!c&&f,d=c&&f,p=null===(i=t[e])||void 0===i?void 0:i.props;l?o[e]=a.cloneElement(u,{_name:v,_inOutDuration:n,_animation:!0,_onLeaveed:function(){var e=u.key||"";h(e)}}):s?o[e]=a.cloneElement(u,{_animation:!1}):d&&(o[e]=a.cloneElement(u,{_animation:p._animation,_name:p._name,_inOutDuration:p._inOutDuration,_onLeaveed:function(){var e=u.key||"";h(e)}}))}})),o},_=(0,a.useState)((function(){return function(e){return w(e,(function(e){return a.cloneElement(e,{_inOutDuration:n,_name:v,_animation:!0,_onLeaveed:function(){var t=e.key||"";h(t)}})}))}(p)})),D=(0,i.default)(_,2),S=D[0],N=D[1];(0,a.useEffect)((function(){b.current?b.current=!1:N(P(p,S))}),[p]),(0,a.useLayoutEffect)((function(){var e=[];m.current&&E.current&&function(){for(var t=f(m.current),n="".concat(v,"-move"),r={},o=0;o<t.length;o++){var i=t[o],u=i.dataset.flipId;u&&i&&(g(i,n),r[u]=j(m.current,i),E.current[u]||(E.current[u]=r[u]))}for(var a=function(o){var i=t[o],u=i.dataset.flipId;if(u&&i){var a=r[u],c=E.current[u],f=a.x-c.x,l=a.y-c.y;if(0!==f||0!==l){var s=i.style;s.transform=s.webkitTransform="translate(".concat(f,"px,").concat(l,"px)"),s.transitionDuration="0s",e.push((function(){x(i,n),s.transform=s.webkitTransform=s.transitionDuration="",i.addEventListener("transitionend",(function e(t){t&&t.target!==i||t&&!/transform$/.test(t.propertyName)||(i.removeEventListener("transitionend",e),g(i,n))}))}))}}},c=0;c<t.length;c++)a(c);O();for(var l=0;l<e.length;l++){(0,e[l])()}}()}));var T=Object.values(S),L=a.createElement(o,{className:s,ref:m},T);return function(){if(m.current){for(var e=f(m.current),t={},n=0;n<e.length;n++){var r=e[n],o=r.dataset.flipId;o&&r&&(t[o]=j(m.current,r))}E.current=t}}(),a.createElement(a.Fragment,null,L)},s=a.memo(l);t.default=s},function(e,t,n){"use strict";var r=n(1),o=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(3)),u=o(n(4)),a=r(n(2));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var f=function(e){var t=e.children,n=e.wrap,r=void 0===n?"":n,o=e.wrapClass,f=void 0===o?"":o,l=function(e,t){var n,r=Object.create(null);e&&(null===(n=a.Children.map(e,(function(e){return e})))||void 0===n||n.forEach((function(e){var n=e.key||"";n&&(r[n]=a.isValidElement(e)&&t?t(e):e)})));return r},s=function(e,t){var n=l(e),r=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var u in e)u in t?i.length&&(o[u]=i,i=[]):i.push(u);var a={};for(var c in t){if(o[c])for(r=0;r<o[c].length;r++){var f=o[c][r];a[f]=n(f)}a[c]=n(c)}for(r=0;r<i.length;r++)a[i[r]]=n(i[r]);return a}(t,n);return Object.keys(r).forEach((function(e){var o,i=r[e];if(a.isValidElement(i)){var u=void 0!==n[e],c=void 0!==t[e],f=u&&!c,l=!u&&c,s=u&&c,v=null===(o=t[e])||void 0===o?void 0:o.props;f?r[e]=a.cloneElement(i,{animation:!0,_onLeaveed:function(){var e=i.key||"";d(e)}}):l?r[e]=a.cloneElement(i,{animation:!1}):s&&(r[e]=a.cloneElement(i,{animation:v.animation,_onLeaveed:function(){var e=i.key||"";d(e)}}))}})),r},d=function(e){b((function(t){return e in t&&delete t[e],function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,u.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)}))},v=(0,a.useRef)(!0),p=(0,a.useState)((function(){return function(e){return l(e,(function(e){return a.cloneElement(e,{animation:!0,_onLeaveed:function(){var t=e.key||"";d(t)}})}))}(t)})),y=(0,i.default)(p,2),m=y[0],b=y[1];(0,a.useEffect)((function(){v.current||b(s(t,m)),v.current=!1}),[t]);var E=Object.values(m);if(r){var O=a.createElement(r,{className:f},E);return a.createElement(a.Fragment,null,O)}return a.createElement(a.Fragment,null,E)};t.default=f}])}));
//# sourceMappingURL=main.js.map